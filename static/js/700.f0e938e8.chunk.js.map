{"version":3,"file":"static/js/700.f0e938e8.chunk.js","mappings":"iPAqCA,QA5BA,WACE,MAAMA,GAAOC,EAAAA,EAAAA,KACPC,GAAUC,EAAAA,EAAAA,MAAYC,IAE1BC,KAAMC,EAAK,MACXC,EAAK,UACLC,EACAC,OAAQC,IACNC,EAAAA,EAAAA,IAASC,EAAAA,EAASC,IAAI,sBAAuB,CAAEC,KAAMZ,IAAY,CAAEa,gBAAiB,OAGtFV,KAAMW,EACNR,UAAWS,EAAgB,aAC3BC,EACAT,OAAQU,IACNR,EAAAA,EAAAA,IAASC,EAAAA,EAASQ,KAAK,YAAYC,OAAO,WAAWC,GAAG,WAAYtB,EAAKuB,cAAcC,UAAUC,SAAU,CAC7GV,gBAAiB,MAQnB,OAAIR,GAASW,GAAqBQ,EAAAA,EAAAA,KAACC,EAAAA,EAAa,CAACpB,MAAOA,EAAMqB,UAC1DpB,GAAaS,GAAyBS,EAAAA,EAAAA,KAACG,EAAAA,EAAW,KAC/CH,EAAAA,EAAAA,KAACI,EAAAA,EAAW,CAACxB,MAAOA,EAAOyB,eAAgBf,EAAQgB,QAASC,aARhDC,KACjBC,QAAQC,IAAI,iBACZ1B,IACAS,GAAe,GAMnB,C","sources":["pages/singleInvestment/index.js"],"sourcesContent":["import \"react-image-gallery/styles/css/image-gallery.css\"\nimport { supabase } from \"../../supabaseClient\"\nimport { useParams } from \"react-router-dom\"\nimport { useQuery } from \"@supabase-cache-helpers/postgrest-swr\"\nimport LogoLoading from \"../../components/Suspense/CoverLoading/LogoLoading\"\nimport ErrorFallback from \"../../components/Suspense/ErrorBoundary/ErrorFallback\"\nimport HouseDetail from \"./HouseDetail\"\nimport { useAuth } from \"../../components/context\"\n\nfunction SingleInvestmentPage() {\n  const user = useAuth()\n  const houseId = useParams().id\n  const {\n    data: house,\n    error,\n    isLoading,\n    mutate: updateHouseDetais\n  } = useQuery(supabase.rpc(\"get_investment_page\", { h_id: houseId }), { refreshInterval: 1000000 })\n\n  const {\n    data: profile,\n    isLoading: isLoadingBalance,\n    balanceError,\n    mutate: updateBalance\n  } = useQuery(supabase.from(\"profiles\").select(\"balance\").eq(\"username\", user.user_metadata.username).single(), {\n    refreshInterval: 100000\n  })\n  const updateSelf = () => {\n    console.log(\"updating self\")\n    updateHouseDetais()\n    updateBalance()\n  }\n\n  if (error || balanceError) return <ErrorFallback error={error.message} />\n  if (isLoading || isLoadingBalance) return <LogoLoading />\n  return <HouseDetail house={house} currentBalance={profile.balance} updateParent={updateSelf} />\n}\nexport default SingleInvestmentPage\n"],"names":["user","useAuth","houseId","useParams","id","data","house","error","isLoading","mutate","updateHouseDetais","useQuery","supabase","rpc","h_id","refreshInterval","profile","isLoadingBalance","balanceError","updateBalance","from","select","eq","user_metadata","username","single","_jsx","ErrorFallback","message","LogoLoading","HouseDetail","currentBalance","balance","updateParent","updateSelf","console","log"],"sourceRoot":""}